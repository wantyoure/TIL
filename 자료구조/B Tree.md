B tree

자녀 노드를 3개로 만들고 싶다면 어떻게 하면 될까?


*자녀 노드의 초대 개수를 늘리기 위해서
 부모 노드에 key를 하나 이상 저장한다

*부모 노드의 key들을 오름차순으로 정렬한다 
*정렬된 순서에 따라 자녀 노드들의 key 값의 범위가 결정된다.

이걸 "B tree" 라고 한다.

이런 방식을 사용하면 자녀 노드의 최대 개수를 입맛에 맞게 결정해서 쓸 수 있다 

M 각 노드의 최대 자녀 노드 수 *
 -최대 M개의 자녀를 가질 수 있는 B tree를 M차 B tree라 부른다
M-1 각 노드의 최대 key 수 

┌M/2┒각 노드의 최소 자녀 노드 수*  (올림을 해주라는 뜻┌ ┒) 단 root node나 leaf node 제외
┌M/2┒-1 각 노드의 최소 key 수** root node 제외

---
*항상 데이터의 추가는 leaf 노드에 한다 
*노드가 넘치면 가운데 key를 기준으로 좌우 key들은 분할하고 가운데 key는 승진한다

insert 방식은 이미 머리속에 있음
-----------------------
B tree 데이터 삭제 방식 

삭제후 최소 키 보다 적다면
* 삭제도 항상 leaf 노드에서 발생!
* 삭제 후 최소 key 수보다 적어졌다면 재조정한다
 1.key 수가 여유가 있는 형제의 지원을 받는다
 2.1번이 불가능 하면 부모의 자원을 받고 형제와 합친다
 3.2번 후 부모님에 문제가 있다면 거기서 다시 재조정한다
 

internal 노드 데이터 삭제 
 *leaf 노드에서 삭제하고 필요하면 재조정
 *internal 노드에 있는 데이터를 삭제하려면 leaf 노드에 있는 데이터와 위치를 바꾼 후 삭제한다
 (삭제할 데이터의 "선임자"나 "후임자"와 위치를 바꿔준다)
